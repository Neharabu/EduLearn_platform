import{j as s,u as i,c as g,b as m,a as h,r,A as f}from"./index-20a7d0ca.js";const y=({topic:e})=>s.jsxs("section",{className:"w-full h-auto flex-col p-3 flex gap-3",children:[s.jsx("span",{className:"font-bold text-xl font-mont text-white",children:e==null?void 0:e.title}),s.jsx("span",{className:"font-mont text-gray-400",children:e==null?void 0:e.description}),(e==null?void 0:e.image)&&s.jsx("img",{src:e==null?void 0:e.image,className:"w-1/2 rounded-md ",alt:""})]}),p=()=>{const{user:e}=i(a=>a.user_state_reducer),{id:c}=i(a=>a.day_state_reducer),o=g(),u=m(),l=h(),[n,d]=r.useState({}),x=async()=>{e.role==="admin"?(l({type:"loading_data",payload:!0}),await f.get(`/api/v1/topic?id=${c}&index=${o.id}`).then(a=>{var t;console.log(a),a.data.success===!0&&(d((t=a==null?void 0:a.data)==null?void 0:t.topic),console.log(a.data.topic.sections))}).catch(a=>{console.log(a)}).finally(()=>{l({type:"loading_data",payload:!1})})):(l({type:"loading_data",payload:!0}),await f.get(`/api/v1/std/topic?id=${c}&index=${o.id}`).then(a=>{var t;console.log(a),a.data.success===!0&&d((t=a==null?void 0:a.data)==null?void 0:t.topic)}).catch(a=>{console.log(a)}).finally(()=>{l({type:"loading_data",payload:!1})}))};return r.useEffect(()=>{var a;o.id<=((a=e==null?void 0:e.current_batch)==null?void 0:a.batch_period)?(console.log("yup"),x()):u("/")},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex w-full h-12"}),s.jsx("section",{className:"w-full h-screen flex justify-center items-center",children:s.jsx("div",{className:"flex w-5/6 h-5/6 overflow-y-scroll flex-col gap-5  ",children:(n==null?void 0:n.sections)&&n.sections.reverse().map((a,t)=>s.jsx(y,{topic:a},t))})})]})};export{p as default};
