import{u as i,a as m,b as p,j as t,r as _,A as y}from"./index-20a7d0ca.js";import{I as v,_ as w}from"./index-560eb102.js";const j=({course:u})=>{var x;const{image:s,description:d,title:f,_id:r}=u,{user:e}=i(o=>o.user_state_reducer),{auth:h}=i(o=>o.auth_state_reducer),n=m(),c=p(),l=()=>{h||n({type:"overlay_data",payload:{login:!0,unlock:{able:!1,id:""},contact:!1,logout:!1,delete_course:{able:!1,id:""},add_topic:!1,add_section:{able:!1,id:""}}}),e.role==="student"&&a(),e.role==="admin"&&b()},a=async()=>{(e==null?void 0:e.current_batch.current_course)===String(r)?c(`/admin/batch/${r}`):w.error("you are not part of this course ðŸ˜¢")},b=()=>{var o;((o=e==null?void 0:e.current_batch)==null?void 0:o.current_course)===String(r)?c(`/admin/batch/${r}`):n({type:"overlay_data",payload:{login:!1,unlock:{able:!0,id:r},contact:!1,logout:!1,delete_course:{able:!1,id:""},add_topic:!1,add_section:{able:!1,id:""}}})},g=()=>{console.log(`/admin/batch/${e.current_batch.current_course}`),c(`/admin/batch/${e.current_batch.current_course}`)};return t.jsxs("div",{className:" w-72  h-[22rem] phone:h-[28rem] my-3 phone:w-[95%] morphcard border p-3 border-gray-200 rounded-lg shadow  flex flex-col justify-between",children:[t.jsx("div",{children:t.jsx(v,{})}),t.jsx("img",{className:"rounded-t-lg object-fill w-full h-1/2",src:s,alt:""}),t.jsxs("div",{className:"p-1 flex flex-col h-auto justify-between",children:[t.jsx("a",{href:"#",children:t.jsx("h5",{className:"mb-2 text-xl font-bold tracking-tight text-gray-100 ",children:f})}),t.jsxs("p",{className:"mb-3 font-normal text-sm text-gray-500 ",children:[d.slice(0,120),"..."]})]}),((x=e==null?void 0:e.current_batch)==null?void 0:x.current_course)==r?t.jsxs("button",{onClick:g,type:"button",className:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600 dark:focus:ring-blue-800",children:["View course"," "]}):t.jsxs("button",{onClick:l,className:"inline-flex w-2/3 gap-3 items-center px-3 py-2 text-sm font-medium text-center text-white bg-yellow-700 rounded-lg hover:bg-yellow-800 focus:ring-4 focus:outline-none focus:ring-yellow-300 ",children:["Unlock the course",t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.9,stroke:"currentColor",className:"w-4 h-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})]})]})},C=()=>{const{navbar:u}=i(a=>a.navbar_state_reducer),{user:s}=i(a=>a.user_state_reducer),[d,f]=_.useState([]),r=p(),e=m(),h=()=>{e({type:"navbar_data",payload:{navbar:!0}})},n=()=>{(s==null?void 0:s.role)==="admin"?c():l()},c=async()=>{var a;(a=s==null?void 0:s.current_batch)!=null&&a.current_course?r(`/admin/batch/${s.current_batch.current_course}`):l()},l=async()=>{e({type:"loading_data",payload:!0}),await y.get("/api/v1/courses").then(a=>{a.data.courses&&f(a.data.courses)}).catch(a=>{console.log(a)}).finally(()=>{e({type:"loading_data",payload:!1})})};return _.useEffect(()=>{h(),n()},[]),console.log(s),console.log(s),t.jsxs("section",{className:"w-full overflow-y-scroll  flex flex-wrap justify-center items-start h-screen hero",children:[u?t.jsx("div",{className:"flex  w-full h-20"}):"",t.jsx("div",{className:"w-[96%] flex gap-5  flex-wrap justify-start items-center overflow-y-scroll  h-auto pt-5",children:d.map((a,b)=>t.jsx(j,{course:a},b))})]})};export{C as default};
