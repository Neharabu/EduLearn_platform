import{j as e,u as i,b as y,a as b,r,A as u}from"./index-4e7f61e2.js";import{I as v,_ as o}from"./index-ee94f095.js";const j=({student:s})=>e.jsxs("div",{className:"flex w-3/4 items-center px-5 py-2 bg-gray-700 rounded-md border my-2 justify-between  ",children:[e.jsx("div",{className:"flex gap-4",children:e.jsx("span",{className:"font-bold text-white font-mont ",children:s==null?void 0:s.email})}),(s==null?void 0:s.status)===!1?e.jsxs("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-600 focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center  ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),"Locked"]}):e.jsxs("button",{type:"button",className:"text-white bg-[#1da1f2] hover:bg-[#1da1f2]/90 focus:ring-4 focus:outline-none focus:ring-[#1da1f2]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#1da1f2]/55 ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),"Unlocked"]})]}),_=()=>{const{auth:s}=i(t=>t.auth_state_reducer),{user:x}=i(t=>t.user_state_reducer),c=y(),a=b(),[n,g]=r.useState([]),[d,h]=r.useState([]),f=async()=>{a({type:"loading_data",payload:!0}),await u.get("/api/v1/batch/students").then(t=>{var l;(l=t==null?void 0:t.data)!=null&&l.students&&g(t.data.students)}).catch(t=>{console.log(t)}).finally(()=>{a({type:"loading_data",payload:!1})})},m=async()=>{o.success("All Students got selected");const t=n.map(l=>l._id);h(t)},p=async()=>{d.length>0?(a({type:"loading_data",payload:!0}),await u.put("/api/v1/activate",{students:d}).then(t=>{console.log(t),t.data.success==!0&&(a({type:"loading_data",payload:!1}),alert("All students got activated"),c("/"))}).catch(t=>{o.error(t.response.data.message||t.message)}).finally(()=>{a({type:"loading_data",payload:!1})})):o.error("No selected Students")};return r.useEffect(()=>{s&&x.role==="admin"?f():c("/")},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex w-full h-24"}),e.jsxs("section",{className:"w-full flex flex-col justify-center items-center h-screen",children:[e.jsx("div",{children:e.jsx(v,{})}),e.jsxs("div",{className:"flex bg-gray-500 items-center justify-between px-5 rounded-lg w-2/3",children:[e.jsxs("div",{className:"flex bg-gray-500 rounded-md p-3",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"helper-checkbox","aria-describedby":"helper-checkbox-text",type:"checkbox",value:"",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:t=>{t.target.checked&&m()}})}),e.jsxs("div",{className:"ml-2 text-sm",children:[e.jsx("label",{htmlFor:"helper-checkbox",className:"font-medium text-gray-900 dark:text-gray-300",children:"Click here to select all studnets"}),e.jsx("p",{id:"helper-checkbox-text",className:"text-xs font-normal text-gray-900 dark:text-gray-300",children:"you can also Activate a specific student"})]})]}),e.jsx("button",{onClick:p,type:"button",className:"py-1 h-3/4 px-5  text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 ",children:"Activate all"})]}),e.jsx("div",{className:"gap-3 flex w-4/5 h-5/6 flex-col items-center overflow-y-scroll",children:n&&n.map(t=>e.jsx(j,{student:t},t._id))})]})]})};export{_ as default};
